{"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\shared\\routers\\bookRouter.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\shared\\routers\\bookRouter.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":76}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":41}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":29}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":51}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":49}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":64}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/shared/routers/bookRouter.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/shared/routers/bookRouter.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,6EAIkD;AAElD,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAChC,MAAM,QAAQ,GAAG,YAAY,CAAA;AAE7B,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,2BAAU,CAAC,CAAC;AAClC,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,0BAAS,CAAC,CAAC;AAChC,MAAM,CAAC,IAAI,CAAC,GAAG,QAAQ,UAAU,EAAE,2BAAU,CAAC,CAAC;AAE/C,kBAAe,MAAM,CAAC","sourcesContent":["import express from \"express\";\r\nimport {\r\n  createBook,\r\n  countBooks,\r\n  findBooks,\r\n} from \"../../catalog/controllers/bookController\";\r\n\r\nconst router = express.Router();\r\nconst basePath = '/api/books'\r\n\r\nrouter.post(basePath, createBook);\r\nrouter.get(basePath, findBooks);\r\nrouter.post(`${basePath}/_counts`, countBooks);\r\n\r\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b21c9bf036811788b6c7ff1614f0ed5aa9b861d1","contentHash":"21fa0f569b7753d1070e906b275b54c9ce887037f48cb58d9e403883f49e3270"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\controllers\\bookController.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\controllers\\bookController.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":16},"end":{"line":16,"column":1}},"11":{"start":{"line":9,"column":28},"end":{"line":9,"column":110}},"12":{"start":{"line":9,"column":91},"end":{"line":9,"column":106}},"13":{"start":{"line":10,"column":4},"end":{"line":15,"column":7}},"14":{"start":{"line":11,"column":36},"end":{"line":11,"column":97}},"15":{"start":{"line":11,"column":42},"end":{"line":11,"column":70}},"16":{"start":{"line":11,"column":85},"end":{"line":11,"column":95}},"17":{"start":{"line":12,"column":35},"end":{"line":12,"column":100}},"18":{"start":{"line":12,"column":41},"end":{"line":12,"column":73}},"19":{"start":{"line":12,"column":88},"end":{"line":12,"column":98}},"20":{"start":{"line":13,"column":32},"end":{"line":13,"column":116}},"21":{"start":{"line":14,"column":8},"end":{"line":14,"column":78}},"22":{"start":{"line":17,"column":22},"end":{"line":19,"column":1}},"23":{"start":{"line":18,"column":4},"end":{"line":18,"column":62}},"24":{"start":{"line":20,"column":0},"end":{"line":20,"column":62}},"25":{"start":{"line":21,"column":0},"end":{"line":21,"column":69}},"26":{"start":{"line":22,"column":18},"end":{"line":22,"column":42}},"27":{"start":{"line":23,"column":27},"end":{"line":23,"column":78}},"28":{"start":{"line":24,"column":22},"end":{"line":24,"column":56}},"29":{"start":{"line":25,"column":22},"end":{"line":25,"column":61}},"30":{"start":{"line":26,"column":23},"end":{"line":26,"column":52}},"31":{"start":{"line":27,"column":22},"end":{"line":27,"column":50}},"32":{"start":{"line":28,"column":30},"end":{"line":28,"column":84}},"33":{"start":{"line":29,"column":17},"end":{"line":29,"column":51}},"34":{"start":{"line":30,"column":19},"end":{"line":41,"column":2}},"35":{"start":{"line":30,"column":39},"end":{"line":41,"column":2}},"36":{"start":{"line":31,"column":4},"end":{"line":40,"column":5}},"37":{"start":{"line":32,"column":8},"end":{"line":32,"column":90}},"38":{"start":{"line":33,"column":27},"end":{"line":33,"column":66}},"39":{"start":{"line":34,"column":22},"end":{"line":34,"column":80}},"40":{"start":{"line":35,"column":8},"end":{"line":35,"column":64}},"41":{"start":{"line":38,"column":8},"end":{"line":38,"column":73}},"42":{"start":{"line":39,"column":8},"end":{"line":39,"column":25}},"43":{"start":{"line":42,"column":0},"end":{"line":42,"column":32}},"44":{"start":{"line":43,"column":18},"end":{"line":54,"column":2}},"45":{"start":{"line":43,"column":38},"end":{"line":54,"column":2}},"46":{"start":{"line":44,"column":4},"end":{"line":53,"column":5}},"47":{"start":{"line":45,"column":8},"end":{"line":45,"column":92}},"48":{"start":{"line":46,"column":26},"end":{"line":46,"column":68}},"49":{"start":{"line":47,"column":22},"end":{"line":47,"column":95}},"50":{"start":{"line":48,"column":8},"end":{"line":48,"column":64}},"51":{"start":{"line":51,"column":8},"end":{"line":51,"column":77}},"52":{"start":{"line":52,"column":8},"end":{"line":52,"column":25}},"53":{"start":{"line":55,"column":0},"end":{"line":55,"column":30}},"54":{"start":{"line":56,"column":19},"end":{"line":67,"column":2}},"55":{"start":{"line":56,"column":39},"end":{"line":67,"column":2}},"56":{"start":{"line":57,"column":4},"end":{"line":66,"column":5}},"57":{"start":{"line":58,"column":8},"end":{"line":58,"column":86}},"58":{"start":{"line":59,"column":21},"end":{"line":59,"column":52}},"59":{"start":{"line":60,"column":19},"end":{"line":60,"column":76}},"60":{"start":{"line":61,"column":8},"end":{"line":61,"column":70}},"61":{"start":{"line":64,"column":8},"end":{"line":64,"column":75}},"62":{"start":{"line":65,"column":8},"end":{"line":65,"column":25}},"63":{"start":{"line":68,"column":0},"end":{"line":68,"column":32}},"64":{"start":{"line":69,"column":17},"end":{"line":73,"column":1}},"65":{"start":{"line":70,"column":4},"end":{"line":72,"column":5}},"66":{"start":{"line":71,"column":8},"end":{"line":71,"column":81}},"67":{"start":{"line":74,"column":20},"end":{"line":82,"column":1}},"68":{"start":{"line":75,"column":17},"end":{"line":75,"column":19}},"69":{"start":{"line":76,"column":4},"end":{"line":80,"column":5}},"70":{"start":{"line":77,"column":8},"end":{"line":79,"column":9}},"71":{"start":{"line":78,"column":12},"end":{"line":78,"column":59}},"72":{"start":{"line":81,"column":4},"end":{"line":81,"column":29}},"73":{"start":{"line":85,"column":0},"end":{"line":88,"column":43}},"74":{"start":{"line":89,"column":0},"end":{"line":92,"column":49}},"75":{"start":{"line":93,"column":0},"end":{"line":96,"column":43}},"76":{"start":{"line":97,"column":0},"end":{"line":100,"column":45}},"77":{"start":{"line":101,"column":0},"end":{"line":104,"column":47}},"78":{"start":{"line":105,"column":0},"end":{"line":107,"column":51}},"79":{"start":{"line":110,"column":0},"end":{"line":112,"column":50}},"80":{"start":{"line":113,"column":0},"end":{"line":115,"column":47}},"81":{"start":{"line":116,"column":0},"end":{"line":118,"column":47}},"82":{"start":{"line":121,"column":0},"end":{"line":124,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":44},"end":{"line":8,"column":45}},"loc":{"start":{"line":8,"column":89},"end":{"line":16,"column":1}},"line":8},"2":{"name":"adopt","decl":{"start":{"line":9,"column":13},"end":{"line":9,"column":18}},"loc":{"start":{"line":9,"column":26},"end":{"line":9,"column":112}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":70},"end":{"line":9,"column":71}},"loc":{"start":{"line":9,"column":89},"end":{"line":9,"column":108}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":10,"column":36},"end":{"line":10,"column":37}},"loc":{"start":{"line":10,"column":63},"end":{"line":15,"column":5}},"line":10},"5":{"name":"fulfilled","decl":{"start":{"line":11,"column":17},"end":{"line":11,"column":26}},"loc":{"start":{"line":11,"column":34},"end":{"line":11,"column":99}},"line":11},"6":{"name":"rejected","decl":{"start":{"line":12,"column":17},"end":{"line":12,"column":25}},"loc":{"start":{"line":12,"column":33},"end":{"line":12,"column":102}},"line":12},"7":{"name":"step","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":21}},"loc":{"start":{"line":13,"column":30},"end":{"line":13,"column":118}},"line":13},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":56},"end":{"line":17,"column":57}},"loc":{"start":{"line":17,"column":71},"end":{"line":19,"column":1}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":30,"column":19},"end":{"line":30,"column":20}},"loc":{"start":{"line":30,"column":39},"end":{"line":41,"column":2}},"line":30},"10":{"name":"(anonymous_10)","decl":{"start":{"line":30,"column":73},"end":{"line":30,"column":74}},"loc":{"start":{"line":30,"column":86},"end":{"line":41,"column":1}},"line":30},"11":{"name":"(anonymous_11)","decl":{"start":{"line":43,"column":18},"end":{"line":43,"column":19}},"loc":{"start":{"line":43,"column":38},"end":{"line":54,"column":2}},"line":43},"12":{"name":"(anonymous_12)","decl":{"start":{"line":43,"column":72},"end":{"line":43,"column":73}},"loc":{"start":{"line":43,"column":85},"end":{"line":54,"column":1}},"line":43},"13":{"name":"(anonymous_13)","decl":{"start":{"line":56,"column":19},"end":{"line":56,"column":20}},"loc":{"start":{"line":56,"column":39},"end":{"line":67,"column":2}},"line":56},"14":{"name":"(anonymous_14)","decl":{"start":{"line":56,"column":73},"end":{"line":56,"column":74}},"loc":{"start":{"line":56,"column":86},"end":{"line":67,"column":1}},"line":56},"15":{"name":"(anonymous_15)","decl":{"start":{"line":69,"column":17},"end":{"line":69,"column":18}},"loc":{"start":{"line":69,"column":29},"end":{"line":73,"column":1}},"line":69},"16":{"name":"(anonymous_16)","decl":{"start":{"line":74,"column":20},"end":{"line":74,"column":21}},"loc":{"start":{"line":74,"column":42},"end":{"line":82,"column":1}},"line":74}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":16},"end":{"line":16,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":17},"end":{"line":8,"column":21}},{"start":{"line":8,"column":25},"end":{"line":8,"column":39}},{"start":{"line":8,"column":44},"end":{"line":16,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":35},"end":{"line":9,"column":109}},"type":"cond-expr","locations":[{"start":{"line":9,"column":56},"end":{"line":9,"column":61}},{"start":{"line":9,"column":64},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":34}},"type":"binary-expr","locations":[{"start":{"line":10,"column":16},"end":{"line":10,"column":17}},{"start":{"line":10,"column":22},"end":{"line":10,"column":33}}],"line":10},"13":{"loc":{"start":{"line":13,"column":32},"end":{"line":13,"column":115}},"type":"cond-expr","locations":[{"start":{"line":13,"column":46},"end":{"line":13,"column":67}},{"start":{"line":13,"column":70},"end":{"line":13,"column":115}}],"line":13},"14":{"loc":{"start":{"line":14,"column":51},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":51},"end":{"line":14,"column":61}},{"start":{"line":14,"column":65},"end":{"line":14,"column":67}}],"line":14},"15":{"loc":{"start":{"line":17,"column":22},"end":{"line":19,"column":1}},"type":"binary-expr","locations":[{"start":{"line":17,"column":23},"end":{"line":17,"column":27}},{"start":{"line":17,"column":31},"end":{"line":17,"column":51}},{"start":{"line":17,"column":56},"end":{"line":19,"column":1}}],"line":17},"16":{"loc":{"start":{"line":18,"column":11},"end":{"line":18,"column":61}},"type":"cond-expr","locations":[{"start":{"line":18,"column":37},"end":{"line":18,"column":40}},{"start":{"line":18,"column":43},"end":{"line":18,"column":61}}],"line":18},"17":{"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":33}},"type":"binary-expr","locations":[{"start":{"line":18,"column":12},"end":{"line":18,"column":15}},{"start":{"line":18,"column":19},"end":{"line":18,"column":33}}],"line":18},"18":{"loc":{"start":{"line":70,"column":4},"end":{"line":72,"column":5}},"type":"if","locations":[{"start":{"line":70,"column":4},"end":{"line":72,"column":5}},{"start":{"line":70,"column":4},"end":{"line":72,"column":5}}],"line":70},"19":{"loc":{"start":{"line":77,"column":8},"end":{"line":79,"column":9}},"type":"if","locations":[{"start":{"line":77,"column":8},"end":{"line":79,"column":9}},{"start":{"line":77,"column":8},"end":{"line":79,"column":9}}],"line":77}},"s":{"0":1,"1":10,"2":10,"3":10,"4":0,"5":10,"6":10,"7":16,"8":16,"9":10,"10":1,"11":7,"12":0,"13":4,"14":7,"15":7,"16":0,"17":0,"18":0,"19":0,"20":11,"21":4,"22":1,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":0,"42":0,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":0,"52":0,"53":1,"54":1,"55":2,"56":2,"57":2,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":4,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1},"f":{"0":10,"1":4,"2":7,"3":0,"4":4,"5":7,"6":0,"7":11,"8":2,"9":1,"10":1,"11":1,"12":1,"13":2,"14":2,"15":4,"16":1},"b":{"0":[1,1,1],"1":[0,10],"2":[0,10],"3":[0,10],"4":[10,10],"5":[16,0],"6":[16,16],"7":[0,16],"8":[16,0],"9":[10,10,0],"10":[1,1,1],"11":[7,0],"12":[4,4],"13":[4,7],"14":[4,4],"15":[1,1,1],"16":[0,2],"17":[2,2],"18":[1,3],"19":[1,0]},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/controllers/bookController.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/controllers/bookController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AACA,2CAAwC;AACxC,+EAWkD;AAClD,yDAIiC;AACjC,8DAAqC;AACrC,qDAAkD;AAClD,mDAAgD;AAChD,qFAAkF;AAClF,oDAA4B;AAE5B,MAAM,UAAU,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC3E,IAAI,CAAC;QACH,QAAQ,CAAC,MAAM,IAAA,iCAAc,EAAC,eAAe,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QAE1D,MAAM,UAAU,GAAG,IAAI,yBAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC7C,MAAM,KAAK,GAAG,MAAM,IAAA,mCAAqB,EAAC,UAAU,CAAC,CAAC;QACtD,OAAO,GAAG,CAAC,MAAM,CAAC,qBAAU,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC/C,CAAC;IAAC,OAAO,GAAG,EAAE,CAAC;QACb,gBAAM,CAAC,SAAS,EAAE,CAAC,KAAK,CAAC,uBAAuB,EAAE,GAAG,CAAC,CAAC;QACvD,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;IACnB,CAAC;AACH,CAAC,CAAA,CAAC;AAqFO,gCAAU;AAnFnB,MAAM,SAAS,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC1E,IAAI,CAAC;QACH,QAAQ,CAAC,MAAM,IAAA,iCAAc,EAAC,gBAAgB,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;QAE5D,MAAM,SAAS,GAAG,IAAI,2BAAY,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC9C,MAAM,KAAK,GAAG,MAAM,IAAA,gCAAkB,oBACjC,SAAS,EACZ,CAAC;QAEH,OAAO,GAAG,CAAC,MAAM,CAAC,qBAAU,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC/C,CAAC;IAAC,OAAO,GAAG,EAAE,CAAC;QACb,gBAAM,CAAC,SAAS,EAAE,CAAC,KAAK,CAAC,2BAA2B,EAAE,GAAG,CAAC,CAAC;QAC3D,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;IACnB,CAAC;AACH,CAAC,CAAA,CAAC;AAqEmB,8BAAS;AAnE9B,MAAM,UAAU,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC3E,IAAI,CAAC;QACH,QAAQ,CAAC,MAAM,IAAA,iCAAc,EAAC,WAAW,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QAEtD,MAAM,IAAI,GAAG,IAAI,iBAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACnC,MAAM,EAAE,GAAG,MAAM,IAAA,qBAAO,oBACnB,IAAI,EACP,CAAC;QACH,OAAO,GAAG,CAAC,MAAM,CAAC,qBAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IACrD,CAAC;IAAC,OAAO,GAAG,EAAE,CAAC;QACb,gBAAM,CAAC,SAAS,EAAE,CAAC,KAAK,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;QACzD,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;IACnB,CAAC;AACH,CAAC,CAAA,CAAC;AAsD8B,gCAAU;AApD1C,MAAM,QAAQ,GAAG,CAAC,MAAyB,EAAE,EAAE;IAC7C,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;QACtB,MAAM,IAAI,yCAAmB,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;IACrD,CAAC;AACH,CAAC,CAAC;AAEF,MAAM,WAAW,GAAG,CAAC,gBAAmC,EAAU,EAAE;IAClE,IAAI,MAAM,GAAa,EAAE,CAAC;IAE1B,KAAK,IAAI,KAAK,IAAI,gBAAgB,EAAE,CAAC;QACnC,IAAI,KAAK,CAAC,WAAW,KAAK,SAAS,EAAE,CAAC;YACpC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;QACjD,CAAC;IACH,CAAC;IACD,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC3B,CAAC,CAAC;AAEF,MAAM,WAAW;CAkBhB;AAfC;IAFC,IAAA,6BAAU,GAAE;IACZ,IAAA,2BAAQ,GAAE;0CACI;AAGf;IAFC,IAAA,6BAAU,GAAE;IACZ,IAAA,2BAAQ,GAAE;gDACU;AAGrB;IAFC,IAAA,2BAAQ,GAAE;IACV,IAAA,sBAAG,EAAC,CAAC,CAAC;0CACQ;AAGf;IAFC,IAAA,2BAAQ,GAAE;IACV,IAAA,sBAAG,EAAC,CAAC,CAAC;4CACU;AAGjB;IAFC,IAAA,2BAAQ,GAAE;IACV,IAAA,sBAAG,EAAC,CAAC,CAAC;8CACY;AAEnB;IADC,IAAA,4BAAS,GAAE;kDACS;AAGvB,MAAM,gBAAgB;CAOrB;AALC;IADC,IAAA,6BAAU,GAAE;iDACI;AAEjB;IADC,IAAA,6BAAU,GAAE;8CACC;AAEd;IADC,IAAA,6BAAU,GAAE;8CACC;AAGhB,MAAM,eAAe;CAIpB;AADC;IAFC,IAAA,gCAAa,GAAE;IACf,IAAA,0BAAO,GAAE;iDACI","sourcesContent":["import { NextFunction, Request, Response } from \"express\";\r\nimport { BookDto } from \"./dto/bookDto\";\r\nimport {\r\n  ArrayNotEmpty,\r\n  IsArray,\r\n  IsISO8601,\r\n  IsNotEmpty,\r\n  IsNumber,\r\n  IsOptional,\r\n  IsString,\r\n  Min,\r\n  ValidationError,\r\n  validationPipe,\r\n} from \"../../shared/validators/catalogValidator\";\r\nimport {\r\n  addBook,\r\n  findBooksByOrderId,\r\n  countBooksForOrderIds,\r\n} from \"../services/bookService\";\r\nimport httpStatus from \"http-status\";\r\nimport { BookQueryDto } from \"./dto/bookQueryDto\";\r\nimport { OrderIdsDto } from \"./dto/orderIdsDto\";\r\nimport { BookValidationError } from \"../../shared/exceptions/bookValidationError\";\r\nimport log4js from \"log4js\";\r\n\r\nconst countBooks = async (req: Request, res: Response, next: NextFunction) => {\r\n  try {\r\n    validate(await validationPipe(OrderIdsRequest, req.body));\r\n\r\n    const countBooks = new OrderIdsDto(req.body);\r\n    const books = await countBooksForOrderIds(countBooks);\r\n    return res.status(httpStatus.OK).send(books);\r\n  } catch (err) {\r\n    log4js.getLogger().error(\"Error in count books.\", err);\r\n    return next(err);\r\n  }\r\n};\r\n\r\nconst findBooks = async (req: Request, res: Response, next: NextFunction) => {\r\n  try {\r\n    validate(await validationPipe(BookQueryRequest, req.query));\r\n\r\n    const bookQuery = new BookQueryDto(req.query);\r\n    const books = await findBooksByOrderId({\r\n      ...bookQuery,\r\n    });\r\n\r\n    return res.status(httpStatus.OK).send(books);\r\n  } catch (err) {\r\n    log4js.getLogger().error(\"Error in searching books.\", err);\r\n    return next(err);\r\n  }\r\n};\r\n\r\nconst createBook = async (req: Request, res: Response, next: NextFunction) => {\r\n  try {\r\n    validate(await validationPipe(BookRequest, req.body));\r\n    \r\n    const book = new BookDto(req.body);\r\n    const id = await addBook({\r\n      ...book,\r\n    });\r\n    return res.status(httpStatus.CREATED).send({ id });\r\n  } catch (err) {\r\n    log4js.getLogger().error(\"Error in creating book.\", err);\r\n    return next(err);\r\n  }\r\n};\r\n\r\nconst validate = (errors: ValidationError[]) => {\r\n  if (errors.length > 0) {\r\n    throw new BookValidationError(formatError(errors));\r\n  }\r\n};\r\n\r\nconst formatError = (validationErrors: ValidationError[]): string => {\r\n  let errors: string[] = [];\r\n\r\n  for (let error of validationErrors) {\r\n    if (error.constraints !== undefined) {\r\n      errors.push(JSON.stringify(error.constraints));\r\n    }\r\n  }\r\n  return errors.join(\", \");\r\n};\r\n\r\nclass BookRequest {\r\n  @IsNotEmpty()\r\n  @IsString()\r\n  title?: string;\r\n  @IsNotEmpty()\r\n  @IsString()\r\n  description?: string;\r\n  @IsNumber()\r\n  @Min(0)\r\n  price?: number;\r\n  @IsNumber()\r\n  @Min(1)\r\n  orderId?: number;\r\n  @IsNumber()\r\n  @Min(0)\r\n  available?: number;\r\n  @IsISO8601()\r\n  datePublished?: Date;\r\n}\r\n\r\nclass BookQueryRequest {\r\n  @IsNotEmpty()\r\n  orderId?: number;\r\n  @IsOptional()\r\n  size?: number;\r\n  @IsOptional()\r\n  from?: number;\r\n}\r\n\r\nclass OrderIdsRequest {\r\n  @ArrayNotEmpty()\r\n  @IsArray()\r\n  orderIds?: [];\r\n}\r\n\r\nexport { countBooks, findBooks, createBook };\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e82d0f7a6545fd1bc9951773ad8d7fcac51bd76d","contentHash":"b3d46e0d4d94657b3329a8554b32e98ca07e06da513b65006e9d7d17908d9694"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\controllers\\dto\\bookDto.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\controllers\\dto\\bookDto.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":32}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":44}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":32}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":36}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":40}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":48}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":22},"end":{"line":12,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/controllers/dto/bookDto.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/controllers/dto/bookDto.ts"],"names":[],"mappings":";;;AAAA,MAAa,OAAO;IAQlB,YAAY,IAAsB;QAChC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACpC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC5B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAChC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;IAC1C,CAAC;CACF;AAhBD,0BAgBC","sourcesContent":["export class BookDto {\r\n  title?: string;\r\n  description?: string;\r\n  price?: number;\r\n  orderId?: number;\r\n  available?: number;\r\n  datePublished?: Date;\r\n\r\n  constructor(data: Partial<BookDto>) {\r\n    this.title = data.title;\r\n    this.description = data.description;\r\n    this.price = data.price;\r\n    this.orderId = data.orderId;\r\n    this.available = data.available;\r\n    this.datePublished = data.datePublished;\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"db00dc7fdf06c73f5f4067c929accbb5e9ac8582","contentHash":"9456940ee7cae6ca462eb20616348997416d95dd8acee29800c75fe1071f3f64"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\shared\\validators\\catalogValidator.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\shared\\validators\\catalogValidator.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":126}},"13":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"14":{"start":{"line":14,"column":95},"end":{"line":14,"column":126}},"15":{"start":{"line":16,"column":16},"end":{"line":24,"column":1}},"16":{"start":{"line":17,"column":28},"end":{"line":17,"column":110}},"17":{"start":{"line":17,"column":91},"end":{"line":17,"column":106}},"18":{"start":{"line":18,"column":4},"end":{"line":23,"column":7}},"19":{"start":{"line":19,"column":36},"end":{"line":19,"column":97}},"20":{"start":{"line":19,"column":42},"end":{"line":19,"column":70}},"21":{"start":{"line":19,"column":85},"end":{"line":19,"column":95}},"22":{"start":{"line":20,"column":35},"end":{"line":20,"column":100}},"23":{"start":{"line":20,"column":41},"end":{"line":20,"column":73}},"24":{"start":{"line":20,"column":88},"end":{"line":20,"column":98}},"25":{"start":{"line":21,"column":32},"end":{"line":21,"column":116}},"26":{"start":{"line":22,"column":8},"end":{"line":22,"column":78}},"27":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"28":{"start":{"line":26,"column":0},"end":{"line":26,"column":32}},"29":{"start":{"line":27,"column":28},"end":{"line":27,"column":56}},"30":{"start":{"line":28,"column":26},"end":{"line":28,"column":52}},"31":{"start":{"line":29,"column":0},"end":{"line":29,"column":50}},"32":{"start":{"line":30,"column":23},"end":{"line":33,"column":2}},"33":{"start":{"line":30,"column":50},"end":{"line":33,"column":2}},"34":{"start":{"line":31,"column":29},"end":{"line":31,"column":92}},"35":{"start":{"line":32,"column":4},"end":{"line":32,"column":67}},"36":{"start":{"line":34,"column":0},"end":{"line":34,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":50},"end":{"line":13,"column":51}},"loc":{"start":{"line":13,"column":71},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":16,"column":44},"end":{"line":16,"column":45}},"loc":{"start":{"line":16,"column":89},"end":{"line":24,"column":1}},"line":16},"5":{"name":"adopt","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":18}},"loc":{"start":{"line":17,"column":26},"end":{"line":17,"column":112}},"line":17},"6":{"name":"(anonymous_6)","decl":{"start":{"line":17,"column":70},"end":{"line":17,"column":71}},"loc":{"start":{"line":17,"column":89},"end":{"line":17,"column":108}},"line":17},"7":{"name":"(anonymous_7)","decl":{"start":{"line":18,"column":36},"end":{"line":18,"column":37}},"loc":{"start":{"line":18,"column":63},"end":{"line":23,"column":5}},"line":18},"8":{"name":"fulfilled","decl":{"start":{"line":19,"column":17},"end":{"line":19,"column":26}},"loc":{"start":{"line":19,"column":34},"end":{"line":19,"column":99}},"line":19},"9":{"name":"rejected","decl":{"start":{"line":20,"column":17},"end":{"line":20,"column":25}},"loc":{"start":{"line":20,"column":33},"end":{"line":20,"column":102}},"line":20},"10":{"name":"step","decl":{"start":{"line":21,"column":17},"end":{"line":21,"column":21}},"loc":{"start":{"line":21,"column":30},"end":{"line":21,"column":118}},"line":21},"11":{"name":"(anonymous_11)","decl":{"start":{"line":30,"column":23},"end":{"line":30,"column":24}},"loc":{"start":{"line":30,"column":50},"end":{"line":33,"column":2}},"line":30},"12":{"name":"(anonymous_12)","decl":{"start":{"line":30,"column":84},"end":{"line":30,"column":85}},"loc":{"start":{"line":30,"column":97},"end":{"line":33,"column":1}},"line":30}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"type":"binary-expr","locations":[{"start":{"line":13,"column":20},"end":{"line":13,"column":24}},{"start":{"line":13,"column":28},"end":{"line":13,"column":45}},{"start":{"line":13,"column":50},"end":{"line":15,"column":1}}],"line":13},"9":{"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"type":"if","locations":[{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},{"start":{"line":14,"column":21},"end":{"line":14,"column":126}}],"line":14},"10":{"loc":{"start":{"line":14,"column":25},"end":{"line":14,"column":93}},"type":"binary-expr","locations":[{"start":{"line":14,"column":25},"end":{"line":14,"column":40}},{"start":{"line":14,"column":44},"end":{"line":14,"column":93}}],"line":14},"11":{"loc":{"start":{"line":16,"column":16},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":16,"column":17},"end":{"line":16,"column":21}},{"start":{"line":16,"column":25},"end":{"line":16,"column":39}},{"start":{"line":16,"column":44},"end":{"line":24,"column":1}}],"line":16},"12":{"loc":{"start":{"line":17,"column":35},"end":{"line":17,"column":109}},"type":"cond-expr","locations":[{"start":{"line":17,"column":56},"end":{"line":17,"column":61}},{"start":{"line":17,"column":64},"end":{"line":17,"column":109}}],"line":17},"13":{"loc":{"start":{"line":18,"column":16},"end":{"line":18,"column":34}},"type":"binary-expr","locations":[{"start":{"line":18,"column":16},"end":{"line":18,"column":17}},{"start":{"line":18,"column":22},"end":{"line":18,"column":33}}],"line":18},"14":{"loc":{"start":{"line":21,"column":32},"end":{"line":21,"column":115}},"type":"cond-expr","locations":[{"start":{"line":21,"column":46},"end":{"line":21,"column":67}},{"start":{"line":21,"column":70},"end":{"line":21,"column":115}}],"line":21},"15":{"loc":{"start":{"line":22,"column":51},"end":{"line":22,"column":67}},"type":"binary-expr","locations":[{"start":{"line":22,"column":51},"end":{"line":22,"column":61}},{"start":{"line":22,"column":65},"end":{"line":22,"column":67}}],"line":22}},"s":{"0":1,"1":334,"2":334,"3":334,"4":334,"5":4,"6":0,"7":334,"8":0,"9":0,"10":0,"11":1,"12":1,"13":334,"14":334,"15":1,"16":4,"17":0,"18":4,"19":4,"20":4,"21":0,"22":0,"23":0,"24":0,"25":8,"26":4,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":4,"34":4,"35":4,"36":1},"f":{"0":334,"1":0,"2":0,"3":1,"4":4,"5":4,"6":0,"7":4,"8":4,"9":0,"10":8,"11":4,"12":4},"b":{"0":[1,1,1],"1":[1,0],"2":[334,0],"3":[4,330],"4":[334,334],"5":[330,4],"6":[4,0],"7":[0,0],"8":[1,1,1],"9":[334,0],"10":[334,334],"11":[1,1,1],"12":[4,0],"13":[4,4],"14":[4,4],"15":[4,4]},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/shared/validators/catalogValidator.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/shared/validators/catalogValidator.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yDAAoD;AACpD,qDAA2C;AAC3C,kDAAgC;AAEzB,MAAM,cAAc,GAAG,CAAO,MAAoB,EAAE,aAAqB,EAAE,EAAE;IAClF,MAAM,gBAAgB,GAAQ,IAAA,mCAAe,EAAC,MAAM,EAAE,aAAa,CAAC,CAAC;IACrE,OAAO,MAAM,IAAA,0BAAQ,EAAC,gBAAgB,CAAC,CAAC;AAC1C,CAAC,CAAA,CAAC;AAHW,QAAA,cAAc,kBAGzB","sourcesContent":["import { plainToInstance } from 'class-transformer';\r\nimport { validate } from 'class-validator';\r\nexport * from 'class-validator';\r\n\r\nexport const validationPipe = async (schema: new () => {}, requestObject: object) => {\r\n  const transformedClass: any = plainToInstance(schema, requestObject);\r\n  return await validate(transformedClass);\r\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"64850eeaf9509d0588279717273e4cbdd91b443a","contentHash":"1c1fc716e35ee9d8d89783d3c8452e619264989faebeec7a153359519d2b32e5"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\services\\bookService.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\services\\bookService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":86}},"16":{"start":{"line":16,"column":22},"end":{"line":16,"column":54}},"17":{"start":{"line":17,"column":15},"end":{"line":17,"column":57}},"18":{"start":{"line":18,"column":24},"end":{"line":18,"column":58}},"19":{"start":{"line":19,"column":21},"end":{"line":19,"column":52}},"20":{"start":{"line":20,"column":29},"end":{"line":20,"column":82}},"21":{"start":{"line":21,"column":16},"end":{"line":25,"column":2}},"22":{"start":{"line":21,"column":29},"end":{"line":25,"column":2}},"23":{"start":{"line":22,"column":4},"end":{"line":22,"column":41}},"24":{"start":{"line":23,"column":17},"end":{"line":23,"column":78}},"25":{"start":{"line":24,"column":4},"end":{"line":24,"column":19}},"26":{"start":{"line":26,"column":0},"end":{"line":26,"column":26}},"27":{"start":{"line":27,"column":30},"end":{"line":43,"column":2}},"28":{"start":{"line":27,"column":41},"end":{"line":43,"column":2}},"29":{"start":{"line":28,"column":25},"end":{"line":28,"column":30}},"30":{"start":{"line":29,"column":23},"end":{"line":41,"column":6}},"31":{"start":{"line":42,"column":4},"end":{"line":42,"column":98}},"32":{"start":{"line":42,"column":41},"end":{"line":42,"column":96}},"33":{"start":{"line":44,"column":0},"end":{"line":44,"column":54}},"34":{"start":{"line":45,"column":27},"end":{"line":53,"column":2}},"35":{"start":{"line":45,"column":38},"end":{"line":53,"column":2}},"36":{"start":{"line":46,"column":36},"end":{"line":46,"column":41}},"37":{"start":{"line":47,"column":18},"end":{"line":51,"column":20}},"38":{"start":{"line":52,"column":4},"end":{"line":52,"column":85}},"39":{"start":{"line":52,"column":31},"end":{"line":52,"column":83}},"40":{"start":{"line":54,"column":0},"end":{"line":54,"column":48}},"41":{"start":{"line":55,"column":22},"end":{"line":60,"column":2}},"42":{"start":{"line":55,"column":35},"end":{"line":60,"column":2}},"43":{"start":{"line":56,"column":16},"end":{"line":56,"column":59}},"44":{"start":{"line":57,"column":4},"end":{"line":59,"column":5}},"45":{"start":{"line":58,"column":8},"end":{"line":58,"column":67}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":21,"column":16},"end":{"line":21,"column":17}},"loc":{"start":{"line":21,"column":29},"end":{"line":25,"column":2}},"line":21},"9":{"name":"(anonymous_9)","decl":{"start":{"line":21,"column":63},"end":{"line":21,"column":64}},"loc":{"start":{"line":21,"column":76},"end":{"line":25,"column":1}},"line":21},"10":{"name":"(anonymous_10)","decl":{"start":{"line":27,"column":30},"end":{"line":27,"column":31}},"loc":{"start":{"line":27,"column":41},"end":{"line":43,"column":2}},"line":27},"11":{"name":"(anonymous_11)","decl":{"start":{"line":27,"column":75},"end":{"line":27,"column":76}},"loc":{"start":{"line":27,"column":88},"end":{"line":43,"column":1}},"line":27},"12":{"name":"(anonymous_12)","decl":{"start":{"line":42,"column":26},"end":{"line":42,"column":27}},"loc":{"start":{"line":42,"column":41},"end":{"line":42,"column":96}},"line":42},"13":{"name":"(anonymous_13)","decl":{"start":{"line":45,"column":27},"end":{"line":45,"column":28}},"loc":{"start":{"line":45,"column":38},"end":{"line":53,"column":2}},"line":45},"14":{"name":"(anonymous_14)","decl":{"start":{"line":45,"column":72},"end":{"line":45,"column":73}},"loc":{"start":{"line":45,"column":85},"end":{"line":53,"column":1}},"line":45},"15":{"name":"(anonymous_15)","decl":{"start":{"line":52,"column":21},"end":{"line":52,"column":22}},"loc":{"start":{"line":52,"column":31},"end":{"line":52,"column":83}},"line":52},"16":{"name":"(anonymous_16)","decl":{"start":{"line":55,"column":22},"end":{"line":55,"column":23}},"loc":{"start":{"line":55,"column":35},"end":{"line":60,"column":2}},"line":55},"17":{"name":"(anonymous_17)","decl":{"start":{"line":55,"column":69},"end":{"line":55,"column":70}},"loc":{"start":{"line":55,"column":82},"end":{"line":60,"column":1}},"line":55}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":57,"column":4},"end":{"line":59,"column":5}},"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":59,"column":5}},{"start":{"line":57,"column":4},"end":{"line":59,"column":5}}],"line":57}},"s":{"0":1,"1":12,"2":6,"3":10,"4":11,"5":11,"6":1,"7":1,"8":1,"9":1,"10":20,"11":10,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":3,"23":3,"24":2,"25":2,"26":1,"27":1,"28":2,"29":2,"30":2,"31":2,"32":3,"33":1,"34":1,"35":2,"36":2,"37":2,"38":2,"39":2,"40":1,"41":1,"42":3,"43":3,"44":3,"45":1},"f":{"0":10,"1":12,"2":6,"3":10,"4":11,"5":1,"6":20,"7":1,"8":3,"9":3,"10":2,"11":2,"12":3,"13":2,"14":2,"15":2,"16":3,"17":3},"b":{"0":[1,1,1],"1":[6,6],"2":[10,10],"3":[8,12],"4":[10,10],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[1,2]},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/services/bookService.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/services/bookService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,uDAAoD;AAIpD,0DAAkC;AAGlC,2DAAwD;AACxD,qDAAkD;AAClD,mFAAgF;AAEzE,MAAM,OAAO,GAAG,CAAO,OAAgB,EAAmB,EAAE;IACjE,MAAM,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IACrC,MAAM,IAAI,GAAG,MAAM,yBAAW,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC;IAC7D,OAAO,IAAI,CAAC,EAAE,CAAC;AACjB,CAAC,CAAA,CAAC;AAJW,QAAA,OAAO,WAIlB;AAEK,MAAM,qBAAqB,GAAG,CACnC,KAAkB,EACO,EAAE;IAC3B,MAAM,EAAE,QAAQ,EAAE,GAAG,KAAK,CAAC;IAC3B,MAAM,UAAU,GAAG,MAAM,cAAI,CAAC,SAAS,CAAC;QACtC;YACE,MAAM,EAAE;gBACN,OAAO,EAAE,EAAE,GAAG,EAAE,QAAQ,EAAE;aAC3B;SACF;QACD;YACE,MAAM,EAAE;gBACN,GAAG,EAAE,UAAU;gBACf,UAAU,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE;aACxB;SACF;KACF,CAAC,CAAC;IAEH,OAAO,UAAU,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,6BAAa,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC;AAChF,CAAC,CAAA,CAAC;AAnBW,QAAA,qBAAqB,yBAmBhC;AAEK,MAAM,kBAAkB,GAAG,CAChC,KAAmB,EACQ,EAAE;IAC7B,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,KAAK,CAAC;IAEtC,MAAM,KAAK,GAAG,MAAM,cAAI;SACrB,IAAI,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC;SAC1B,IAAI,CAAC,EAAE,aAAa,EAAE,CAAC,CAAC,EAAE,CAAC;SAC3B,IAAI,CAAC,IAAI,CAAC;SACV,KAAK,CAAC,IAAI,CAAC,CAAC;IAEf,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,6BAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC;AACnE,CAAC,CAAA,CAAC;AAZW,QAAA,kBAAkB,sBAY7B;AAEF,MAAM,aAAa,GAAG,CAAO,OAAgB,EAAE,EAAE;IAC/C,MAAM,GAAG,GAAG,MAAM,IAAA,uBAAU,EAAC,OAAO,CAAC,CAAC;IACtC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC;QACZ,MAAM,IAAI,uCAAkB,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC;AACH,CAAC,CAAA,CAAC","sourcesContent":["import { BookFactory } from \"../mapper/bookFactory\";\r\nimport { BookDto } from \"../controllers/dto/bookDto\";\r\nimport { OrderIdsDto } from \"../controllers/dto/orderIdsDto\";\r\nimport { CountBookDto } from \"../controllers/dto/countBooksDto\";\r\nimport Book from \"../models/book\";\r\nimport { BookQueryDto } from \"../controllers/dto/bookQueryDto\";\r\nimport { BookDetailsDto } from \"../controllers/dto/bookDetailsDto\";\r\nimport { BookDtoMapper } from \"../mapper/bookDtoMapper\";\r\nimport { fetchOrder } from \"../client/httpClient\";\r\nimport { OrderNotFoundError } from \"../../shared/exceptions/orderNotFoundError\";\r\n\r\nexport const addBook = async (bookDto: BookDto): Promise<string> => {\r\n  await validateOrder(bookDto.orderId);\r\n  const book = await BookFactory.createNewBook(bookDto).save();\r\n  return book.id;\r\n};\r\n\r\nexport const countBooksForOrderIds = async (\r\n  query: OrderIdsDto\r\n): Promise<CountBookDto[]> => {\r\n  const { orderIds } = query;\r\n  const countBooks = await Book.aggregate([\r\n    {\r\n      $match: {\r\n        orderId: { $in: orderIds },\r\n      },\r\n    },\r\n    {\r\n      $group: {\r\n        _id: \"$orderId\",\r\n        totalBooks: { $sum: 1 },\r\n      },\r\n    },\r\n  ]);\r\n\r\n  return countBooks.map((countBook) => BookDtoMapper.mapToCountBook(countBook));\r\n};\r\n\r\nexport const findBooksByOrderId = async (\r\n  query: BookQueryDto\r\n): Promise<BookDetailsDto[]> => {\r\n  const { orderId, size, from } = query;\r\n\r\n  const books = await Book\r\n    .find({ orderId: orderId })\r\n    .sort({ datePublished: -1 })\r\n    .skip(from)\r\n    .limit(size);\r\n\r\n  return books.map((book) => BookDtoMapper.mapToBookDetails(book));\r\n};\r\n\r\nconst validateOrder = async (orderId?: number) => {\r\n  const res = await fetchOrder(orderId);\r\n  if (!res.ok) {\r\n    throw new OrderNotFoundError(orderId);\r\n  }\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"69e6fcbf6ec967215a6462e077752093945068b5","contentHash":"5381f6a6a11ff74c6c98a588047c75efc5febbd32df2b3cddbbcbbfd33f6dd5e"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\mapper\\bookFactory.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\mapper\\bookFactory.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":57}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":34}},"6":{"start":{"line":11,"column":0},"end":{"line":13,"column":2}},"7":{"start":{"line":12,"column":4},"end":{"line":12,"column":55}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":28},"end":{"line":11,"column":29}},"loc":{"start":{"line":11,"column":38},"end":{"line":13,"column":1}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2},"f":{"0":1,"1":2},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/mapper/bookFactory.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/mapper/bookFactory.ts"],"names":[],"mappings":";;;;;;AAAA,0DAA6C;AAG7C,MAAa,WAAW;;AAAxB,kCAMC;AALQ,yBAAa,GAAG,CAAC,IAAa,EAAS,EAAE;IAC9C,OAAO,IAAI,cAAI,mBACV,IAAI,EACP,CAAC;AACL,CAAC,CAAC","sourcesContent":["import Book, { IBook } from \"../models/book\";\r\nimport { BookDto } from \"../controllers/dto/bookDto\";\r\n\r\nexport class BookFactory {\r\n  static createNewBook = (book: BookDto): IBook => {\r\n    return new Book({\r\n      ...book,\r\n    });\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5e92937cb1eb80f15b78aa864ee72120c656a94f","contentHash":"1ece84740a5ecbef28557199434942950afb9033ee6f9dc4f0132a3181591ac3"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\models\\book.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\models\\book.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":19},"end":{"line":26,"column":52}},"26":{"start":{"line":27,"column":18},"end":{"line":52,"column":2}},"27":{"start":{"line":53,"column":0},"end":{"line":53,"column":39}},"28":{"start":{"line":54,"column":13},"end":{"line":54,"column":56}},"29":{"start":{"line":55,"column":0},"end":{"line":55,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21}},"s":{"0":1,"1":51,"2":51,"3":51,"4":51,"5":50,"6":1,"7":51,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":59,"21":51,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1},"f":{"0":51,"1":1,"2":0,"3":1,"4":0,"5":1},"b":{"0":[1,1,1],"1":[1,0],"2":[51,0],"3":[50,1],"4":[51,51],"5":[0,51],"6":[51,1],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[51,8],"15":[59,58]},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/models/book.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/models/book.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qDAAsD;AAYtD,MAAM,SAAS,GAAG,IAAI,iBAAM,CAAC;IAC3B,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,WAAW,EAAE;QACX,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,OAAO,EAAE;QACP,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,SAAS,EAAE;QACT,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,aAAa,EAAE;QACb,IAAI,EAAE,IAAI;QACV,QAAQ,EAAE,IAAI;KACf;CACF,CAAC,CAAC;AAEF,SAAS,CAAC,KAAK,CAAE,EAAC,aAAa,EAAE,CAAC,CAAC,EAAC,CAAE,CAAC;AAExC,MAAM,IAAI,GAAG,kBAAQ,CAAC,KAAK,CAAQ,MAAM,EAAE,SAAS,CAAC,CAAC;AAEtD,kBAAe,IAAI,CAAC","sourcesContent":["import mongoose, { Document, Schema } from \"mongoose\";\r\nimport { text } from \"stream/consumers\";\r\n\r\nexport interface IBook extends Document {\r\n  title: String;\r\n  description: String;\r\n  orderId: number;\r\n  price: number;\r\n  available: number;\r\n  datePublished: Date;\r\n}\r\n\r\nconst bookShema = new Schema({\r\n  title: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  description: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  orderId: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  price: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  available: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  datePublished: {\r\n    type: Date,\r\n    required: true,\r\n  },\r\n});\r\n\r\n bookShema.index( {datePublished: -1} );\r\n\r\nconst Book = mongoose.model<IBook>(\"Book\", bookShema);\r\n\r\nexport default Book;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"30f42d03078211f023e660fe073fe2a8a530b9f3","contentHash":"1c7954da170c191c2663dd0a09eeb5163d0a11da803521b7b4f5aaf446b5ff54"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\mapper\\bookDtoMapper.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\mapper\\bookDtoMapper.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":38}},"3":{"start":{"line":7,"column":0},"end":{"line":15,"column":2}},"4":{"start":{"line":8,"column":4},"end":{"line":14,"column":6}},"5":{"start":{"line":16,"column":0},"end":{"line":21,"column":2}},"6":{"start":{"line":17,"column":4},"end":{"line":20,"column":6}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":33},"end":{"line":7,"column":34}},"loc":{"start":{"line":7,"column":43},"end":{"line":15,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":31},"end":{"line":16,"column":32}},"loc":{"start":{"line":16,"column":47},"end":{"line":21,"column":1}},"line":16}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":3},"f":{"0":2,"1":3},"b":{},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/mapper/bookDtoMapper.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/mapper/bookDtoMapper.ts"],"names":[],"mappings":";;;AAIA,MAAa,aAAa;;AAA1B,sCAiBC;AAhBQ,8BAAgB,GAAG,CAAC,IAAW,EAAkB,EAAE;IACxD,OAAO;QACL,EAAE,EAAE,IAAI,CAAC,EAAE;QACX,OAAO,EAAE,IAAI,CAAC,OAAO;QACrB,KAAK,EAAE,IAAI,CAAC,KAAK;QACjB,SAAS,EAAE,IAAI,CAAC,SAAS;QACzB,aAAa,EAAE,IAAI,CAAC,aAAa;KAClC,CAAC;AACJ,CAAC,CAAC;AAEK,4BAAc,GAAG,CAAC,UAAe,EAAgB,EAAE;IACxD,OAAO;QACL,OAAO,EAAE,UAAU,CAAC,GAAG;QACvB,UAAU,EAAE,UAAU,CAAC,UAAU;KAClC,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { CountBookDto } from \"../controllers/dto/countBooksDto\";\r\nimport { BookDetailsDto } from \"../controllers/dto/bookDetailsDto\";\r\nimport { IBook } from \"../models/book\";\r\n\r\nexport class BookDtoMapper {\r\n  static mapToBookDetails = (book: IBook): BookDetailsDto => {\r\n    return {\r\n      id: book.id,\r\n      orderId: book.orderId,\r\n      price: book.price,\r\n      available: book.available,\r\n      datePublished: book.datePublished,\r\n    };\r\n  };\r\n\r\n  static mapToCountBook = (countBooks: any): CountBookDto => {\r\n    return {\r\n      orderId: countBooks._id,\r\n      totalBooks: countBooks.totalBooks,\r\n    };\r\n  };\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ae5aecebfc0a24c3ff090657f60693ea18a38ba3","contentHash":"fefb039134359445c4b83acab8ccb90ae361db772f41bb654b26f877b6008d9d"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\client\\httpClient.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\client\\httpClient.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":28}},"16":{"start":{"line":16,"column":32},"end":{"line":16,"column":88}},"17":{"start":{"line":17,"column":26},"end":{"line":17,"column":76}},"18":{"start":{"line":18,"column":17},"end":{"line":18,"column":51}},"19":{"start":{"line":19,"column":17},"end":{"line":19,"column":51}},"20":{"start":{"line":20,"column":15},"end":{"line":20,"column":47}},"21":{"start":{"line":21,"column":0},"end":{"line":21,"column":83}},"22":{"start":{"line":22,"column":22},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":16},"end":{"line":23,"column":35}},"24":{"start":{"line":24,"column":19},"end":{"line":41,"column":2}},"25":{"start":{"line":24,"column":32},"end":{"line":41,"column":2}},"26":{"start":{"line":25,"column":4},"end":{"line":40,"column":7}},"27":{"start":{"line":32,"column":26},"end":{"line":32,"column":32}},"28":{"start":{"line":34,"column":8},"end":{"line":37,"column":9}},"29":{"start":{"line":35,"column":12},"end":{"line":35,"column":92}},"30":{"start":{"line":36,"column":12},"end":{"line":36,"column":74}},"31":{"start":{"line":38,"column":8},"end":{"line":38,"column":86}},"32":{"start":{"line":39,"column":8},"end":{"line":39,"column":57}},"33":{"start":{"line":42,"column":0},"end":{"line":42,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":24,"column":19},"end":{"line":24,"column":20}},"loc":{"start":{"line":24,"column":32},"end":{"line":41,"column":2}},"line":24},"9":{"name":"(anonymous_9)","decl":{"start":{"line":24,"column":66},"end":{"line":24,"column":67}},"loc":{"start":{"line":24,"column":79},"end":{"line":41,"column":1}},"line":24},"10":{"name":"(anonymous_10)","decl":{"start":{"line":32,"column":14},"end":{"line":32,"column":15}},"loc":{"start":{"line":32,"column":26},"end":{"line":32,"column":32}},"line":32},"11":{"name":"(anonymous_11)","decl":{"start":{"line":33,"column":15},"end":{"line":33,"column":16}},"loc":{"start":{"line":33,"column":24},"end":{"line":40,"column":5}},"line":33}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":34,"column":8},"end":{"line":37,"column":9}},"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":37,"column":9}},{"start":{"line":34,"column":8},"end":{"line":37,"column":9}}],"line":34}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":3,"8":0,"9":0,"10":0,"11":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[0,3],"7":[3,3],"8":[0,0]},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/client/httpClient.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/client/httpClient.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,yFAAuF;AACvF,6EAA0E;AAC1E,oDAA4B;AAC5B,oDAA4B;AAC5B,gDAAwB;AAExB,gBAAM,CAAC,MAAM,CAAC,EAAC,IAAI,EAAE,cAAI,CAAC,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,EAAC,CAAC,CAAC;AAC7D,MAAM,aAAa,GAAG,cAAc,CAAC;AACrC,MAAM,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC;AAI7B,MAAM,UAAU,GAAG,CAAO,OAAgB,EAAqB,EAAE;IACtE,OAAO,MAAM,KAAK,CAAC,GAAG,OAAO,IAAI,OAAO,EAAE,EACxC;QACE,MAAM,EAAE,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC;QACjC,MAAM,EAAE,KAAK;QACb,OAAO,EAAE;YACP,cAAc,EAAE,gCAAgC;SACjD;KACF,CACF;SACE,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC;SACxB,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;QACb,IAAI,GAAG,CAAC,IAAI,KAAK,aAAa,EAAE,CAAC;YAC/B,gBAAM,CAAC,SAAS,EAAE,CAAC,KAAK,CAAC,sCAAsC,EAAE,GAAG,CAAC,CAAC;YACtE,MAAM,IAAI,8CAAsB,CAAC,GAAG,CAAC,CAAC;QACxC,CAAC;QACD,gBAAM,CAAC,SAAS,EAAE,CAAC,KAAK,CAAC,oCAAoC,EAAE,GAAG,CAAC,CAAC;QACpE,MAAM,IAAI,iCAAe,CAAC,GAAG,CAAC,CAAC;IACjC,CAAC,CAAC,CAAC;AACP,CAAC,CAAA,CAAC;AAnBW,QAAA,UAAU,cAmBrB","sourcesContent":["import { HttpClientTimeoutError } from \"../../shared/exceptions/httpClientTimoutError\";\r\nimport { HttpClientError } from \"../../shared/exceptions/httpClientError\";\r\nimport log4js from \"log4js\";\r\nimport dotenv from \"dotenv\";\r\nimport path from \"path\";\r\n\r\ndotenv.config({path: path.resolve(__dirname, '../../.env')});\r\nconst TIMEOUT_ERROR = \"TimeoutError\";\r\nconst API_URL = process.env.API_URL;\r\n\r\n \r\n\r\nexport const fetchOrder = async (orderId?: number): Promise<Response> => {\r\n  return await fetch(`${API_URL}/${orderId}`, \r\n    {\r\n      signal: AbortSignal.timeout(2000),\r\n      method: \"GET\",\r\n      headers: {\r\n        \"content-type\": \"application/json;charset=UTF-8\",\r\n      }\r\n    }\r\n  )\r\n    .then((result) => result)\r\n    .catch((err) => {\r\n      if (err.name === TIMEOUT_ERROR) {\r\n        log4js.getLogger().error(\"Timeout occurred while connecting...\", err);\r\n        throw new HttpClientTimeoutError(err);\r\n      }\r\n      log4js.getLogger().error(\"Error occurred while connecting...\", err);\r\n      throw new HttpClientError(err);\r\n    });\r\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0b311dff249037b848a03dc6095e072b83a0abd9","contentHash":"767b9fa4a0b8d6386105a1848a0bd4bb4d10ad23af6b1a994a8b095f6a1ed714"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\shared\\exceptions\\httpClientTimoutError.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\shared\\exceptions\\httpClientTimoutError.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":23}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":56}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":25},"end":{"line":7,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":0,"3":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/shared/exceptions/httpClientTimoutError.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/shared/exceptions/httpClientTimoutError.ts"],"names":[],"mappings":";;;AAAA,MAAa,sBAAuB,SAAQ,KAAK;IAC7C,YAAY,OAAe;QACvB,KAAK,CAAC,OAAO,CAAC,CAAA;IAClB,CAAC;CACJ;AAJD,wDAIC","sourcesContent":["export class HttpClientTimeoutError extends Error {\r\n    constructor(message: string) {\r\n        super(message)\r\n    }\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c15712756fec7a546336521ffd1bcfd6cb19f56f","contentHash":"4839e75a6be385dfb04c921c1db5f53c3051ccf02017e2518c38a27da7ff679c"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\shared\\exceptions\\httpClientError.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\shared\\exceptions\\httpClientError.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":23}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":25},"end":{"line":7,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":0,"3":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/shared/exceptions/httpClientError.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/shared/exceptions/httpClientError.ts"],"names":[],"mappings":";;;AAAA,MAAa,eAAgB,SAAQ,KAAK;IACtC,YAAY,OAAe;QACvB,KAAK,CAAC,OAAO,CAAC,CAAA;IAClB,CAAC;CACJ;AAJD,0CAIC","sourcesContent":["export class HttpClientError extends Error {\r\n    constructor(message: string) {\r\n        super(message)\r\n    }\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"67023439573b9899f47d5e5e3b9da7dbcfc45108","contentHash":"d20859b4d5022c2c7ee43719e579268c44a316238c114d721fce69a36242e672"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\shared\\exceptions\\orderNotFoundError.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\shared\\exceptions\\orderNotFoundError.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":54}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":25},"end":{"line":7,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/shared/exceptions/orderNotFoundError.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/shared/exceptions/orderNotFoundError.ts"],"names":[],"mappings":";;;AACA,MAAa,kBAAmB,SAAQ,KAAK;IACzC,YAAY,OAAgB;QACxB,KAAK,CAAC,kBAAkB,OAAO,aAAa,CAAC,CAAA;IACjD,CAAC;CACJ;AAJD,gDAIC","sourcesContent":["\r\nexport class OrderNotFoundError extends Error {\r\n    constructor(orderId?: number) {\r\n        super(`Order with ID: ${orderId} not found!`)\r\n    }\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a9ea468f5d94b67266eb8b218576d4c14671d545","contentHash":"9e725c6e36562a79a98cd70e3161592840af869f3128e765a4d8bfb616437c7b"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\controllers\\dto\\bookQueryDto.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\controllers\\dto\\bookQueryDto.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":37}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":36}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":37}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":23},"end":{"line":9,"column":5}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":20},"end":{"line":7,"column":35}},"type":"binary-expr","locations":[{"start":{"line":7,"column":20},"end":{"line":7,"column":30}},{"start":{"line":7,"column":34},"end":{"line":7,"column":35}}],"line":7},"1":{"loc":{"start":{"line":8,"column":20},"end":{"line":8,"column":36}},"type":"binary-expr","locations":[{"start":{"line":8,"column":20},"end":{"line":8,"column":30}},{"start":{"line":8,"column":34},"end":{"line":8,"column":36}}],"line":8}},"s":{"0":1,"1":1,"2":3,"3":3,"4":3,"5":1},"f":{"0":3},"b":{"0":[3,2],"1":[3,1]},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/controllers/dto/bookQueryDto.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/controllers/dto/bookQueryDto.ts"],"names":[],"mappings":";;;AAAA,MAAa,YAAY;IAKvB,YAAY,KAA4B;QACtC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;QAC7B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC;QAC5B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,IAAI,EAAE,CAAC;IAC/B,CAAC;CACF;AAVD,oCAUC","sourcesContent":["export class BookQueryDto {\r\n  orderId?: number;\r\n  from: number;\r\n  size: number;\r\n\r\n  constructor(query: Partial<BookQueryDto>) {\r\n    this.orderId = query.orderId;\r\n    this.from = query.from || 0;\r\n    this.size = query.size || 10;\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"21238446ce3ede299363fc6ea5158a15c91982b8","contentHash":"d10d823e50d131c215e0931b019129f442b08b469d6a316533ec7c5f638fba62"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\controllers\\dto\\orderIdsDto.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\catalog\\controllers\\dto\\orderIdsDto.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":38}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":22},"end":{"line":7,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":2,"3":1},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/controllers/dto/orderIdsDto.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/catalog/controllers/dto/orderIdsDto.ts"],"names":[],"mappings":";;;AAAA,MAAa,WAAW;IAGpB,YAAY,IAA0B;QACpC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IAChC,CAAC;CACF;AANH,kCAMG","sourcesContent":["export class OrderIdsDto {\r\n    orderIds?: number[];\r\n  \r\n    constructor(data: Partial<OrderIdsDto>) {\r\n      this.orderIds = data.orderIds;\r\n    }\r\n  }"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ab64fd52d7ed61e3cf9ba03d6ce74f7d0b19b946","contentHash":"cdb0d12d9a5aa349f154c7c5c4af417f7379fe44d417a9bbbe23915077922533"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\shared\\exceptions\\bookValidationError.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\shared\\exceptions\\bookValidationError.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":23}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":25},"end":{"line":7,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/shared/exceptions/bookValidationError.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/shared/exceptions/bookValidationError.ts"],"names":[],"mappings":";;;AAAA,MAAa,mBAAoB,SAAQ,KAAK;IAC1C,YAAY,OAAe;QACvB,KAAK,CAAC,OAAO,CAAC,CAAA;IAClB,CAAC;CACJ;AAJD,kDAIC","sourcesContent":["export class BookValidationError extends Error {\r\n    constructor(message: string) {\r\n        super(message)\r\n    }  \r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b52c8116bca84b2a60bc40d1d70d25b7eb8a7472","contentHash":"9209bfd78c4ef25fcac699deb0ce422256364b3fa355c3cb06e9b5e7dbbf23db"},"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\test\\mongoSetup.ts":{"path":"C:\\IT\\JAVA\\INTERN-FULL-STACK\\bookshop-node\\src\\test\\mongoSetup.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":32},"end":{"line":6,"column":64}},"4":{"start":{"line":7,"column":19},"end":{"line":7,"column":55}},"5":{"start":{"line":8,"column":20},"end":{"line":8,"column":67}},"6":{"start":{"line":9,"column":26},"end":{"line":36,"column":2}},"7":{"start":{"line":10,"column":4},"end":{"line":35,"column":7}},"8":{"start":{"line":12,"column":25},"end":{"line":12,"column":45}},"9":{"start":{"line":13,"column":29},"end":{"line":17,"column":9}},"10":{"start":{"line":18,"column":8},"end":{"line":18,"column":59}},"11":{"start":{"line":19,"column":8},"end":{"line":21,"column":11}},"12":{"start":{"line":20,"column":12},"end":{"line":20,"column":51}},"13":{"start":{"line":22,"column":8},"end":{"line":28,"column":11}},"14":{"start":{"line":23,"column":12},"end":{"line":23,"column":45}},"15":{"start":{"line":24,"column":12},"end":{"line":24,"column":31}},"16":{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},"17":{"start":{"line":26,"column":16},"end":{"line":26,"column":67}},"18":{"start":{"line":29,"column":8},"end":{"line":29,"column":20}},"19":{"start":{"line":32,"column":8},"end":{"line":32,"column":49}},"20":{"start":{"line":33,"column":8},"end":{"line":33,"column":27}},"21":{"start":{"line":34,"column":8},"end":{"line":34,"column":20}},"22":{"start":{"line":41,"column":0},"end":{"line":41,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":38},"end":{"line":9,"column":39}},"loc":{"start":{"line":9,"column":59},"end":{"line":36,"column":1}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":14},"end":{"line":11,"column":15}},"loc":{"start":{"line":11,"column":20},"end":{"line":30,"column":5}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":54},"end":{"line":19,"column":55}},"loc":{"start":{"line":19,"column":60},"end":{"line":21,"column":9}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":50},"end":{"line":22,"column":51}},"loc":{"start":{"line":22,"column":59},"end":{"line":28,"column":9}},"line":22},"5":{"name":"(anonymous_5)","decl":{"start":{"line":31,"column":15},"end":{"line":31,"column":16}},"loc":{"start":{"line":31,"column":24},"end":{"line":35,"column":5}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},{"start":{"line":25,"column":12},"end":{"line":27,"column":13}}],"line":25}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[0,0]},"inputSourceMap":{"version":3,"file":"C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/test/mongoSetup.ts","sources":["C:/IT/JAVA/INTERN-FULL-STACK/bookshop-node/src/test/mongoSetup.ts"],"names":[],"mappings":";;;;;AAAA,iEAA0D;AAC1D,wDAAoD;AAEpD,MAAM,WAAW,GAAG,IAAI,yCAAiB,EAAE,CAAC;AAE5C,MAAM,iBAAiB,GAAG,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;IACxD,WAAW,CAAC,KAAK,EAAE;SAChB,IAAI,CAAC,GAAG,EAAE;QACT,MAAM,QAAQ,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC;QACtC,MAAM,YAAY,GAAG;YACnB,eAAe,EAAE,IAAI;YACrB,kBAAkB,EAAE,IAAI;YACxB,eAAe,EAAE,KAAK;SACvB,CAAC;QACF,kBAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,YAA8B,CAAC,CAAC;QAE3D,kBAAQ,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE,GAAG,EAAE;YACvC,OAAO,CAAC,kBAAQ,CAAC,UAAU,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;QAEH,kBAAQ,CAAC,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE;YACtC,OAAO,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;YACjC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAEnB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,KAAK,WAAW,EAAE,CAAC;gBACrC,kBAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;YAC3C,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;SACD,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;QACb,OAAO,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;QACzC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACnB,MAAM,CAAC,GAAG,CAAC,CAAC;IACd,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAC;AAEH;;;GAGG;AACH,kBAAe,iBAAiB,CAAC","sourcesContent":["import { MongoMemoryServer } from 'mongodb-memory-server';\r\nimport mongoose, { ConnectOptions } from 'mongoose';\r\n\r\nconst mongoServer = new MongoMemoryServer();\r\n\r\nconst connectionPromise = new Promise((resolve, reject) => {\r\n  mongoServer.start()\r\n    .then(() => {\r\n      const mongoUri = mongoServer.getUri();\r\n      const mongooseOpts = {\r\n        useNewUrlParser: true,\r\n        useUnifiedTopology: true,\r\n        socketTimeoutMS: 30000,\r\n      };\r\n      mongoose.connect(mongoUri, mongooseOpts as ConnectOptions);\r\n\r\n      mongoose.connection.on('connected', () => {\r\n        resolve(mongoose.connection);\r\n      });\r\n\r\n      mongoose.connection.on('error', (err) => {\r\n        console.error('Mockgoose error');\r\n        console.error(err);\r\n\r\n        if (err.message.code === 'ETIMEDOUT') {\r\n          mongoose.connect(mongoUri, mongooseOpts);\r\n        }\r\n      });\r\n\r\n      return null;\r\n    })\r\n    .catch((err) => {\r\n      console.error('Error in prepareStorage');\r\n      console.error(err);\r\n      reject(err);\r\n    });\r\n});\r\n\r\n/**\r\n * This promise is resolved when the test database\r\n * is ready and the connection has been made.\r\n */\r\nexport default connectionPromise;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"06eb5c51c36fc3796369bb50f3cb694883a7f6ee","contentHash":"2544da2f4848665f518c4d4faf196f6a1000d1f02e73dd71dd3ba2c8006241b4"}}